"use strict";(self.webpackChunk_minebea_fusion_auth=self.webpackChunk_minebea_fusion_auth||[]).push([[786],{9786:function(e,t,a){a.r(t),a.d(t,{diagram:function(){return z}});var n=a(4165),o=a(7762),s=a(5861),r=a(4533),i=a(8433),c=a(9913),d=a(4355),l=a(7427),p=(a(7892),a(504),a(8703),a(3529),a(7351),"rect"),u="rectWithTitle",g="statediagram",h="".concat(g,"-").concat("state"),b="transition",f="".concat(b," ").concat("note-edge"),y="".concat(g,"-").concat("note"),v="".concat(g,"-").concat("cluster"),w="".concat(g,"-").concat("cluster-alt"),x="parent",m="note",T="----",k="".concat(T).concat(m),S="".concat(T).concat(x),D="fill:none",A="fill: #333",B="text",_="normal",C={},E=0;function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:T,o=null!==a&&a.length>0?"".concat(n).concat(a):"";return"".concat("state","-").concat(e).concat(o,"-").concat(t)}var V=function(e,t,a,n,o,s){var i,c=a.id,l=void 0===(i=n[c])||null===i?"":i.classes?i.classes.join(" "):"";if("root"!==c){var g=p;!0===a.start&&(g="start"),!1===a.start&&(g="end"),a.type!==r.D&&(g=a.type),C[c]||(C[c]={id:c,shape:g,description:d.e.sanitizeText(c,(0,d.c)()),classes:"".concat(l," ").concat(h)});var b=C[c];a.description&&(Array.isArray(b.description)?(b.shape=u,b.description.push(a.description)):b.description.length>0?(b.shape=u,b.description===c?b.description=[a.description]:b.description=[b.description,a.description]):(b.shape=p,b.description=a.description),b.description=d.e.sanitizeTextOrArray(b.description,(0,d.c)())),1===b.description.length&&b.shape===u&&(b.shape=p),!b.type&&a.doc&&(d.l.info("Setting cluster for ",c,L(a)),b.type="group",b.dir=L(a),b.shape=a.type===r.a?"divider":"roundedWithTitle",b.classes=b.classes+" "+v+" "+(s?w:""));var T={labelStyle:"",shape:b.shape,labelText:b.description,classes:b.classes,style:"",id:c,dir:b.dir,domId:R(c,E),type:b.type,padding:15,centerLabel:!0};if(a.note){var V={labelStyle:"",shape:"note",labelText:a.note.text,classes:y,style:"",id:c+k+"-"+E,domId:R(c,E,m),type:b.type,padding:15},M={labelStyle:"",shape:"noteGroup",labelText:a.note.text,classes:b.classes,style:"",id:c+S,domId:R(c,E,x),type:"group",padding:0};E++;var Z=c+S;e.setNode(Z,M),e.setNode(V.id,V),e.setNode(c,T),e.setParent(c,Z),e.setParent(V.id,Z);var z=c,I=V.id;"left of"===a.note.position&&(z=V.id,I=c),e.setEdge(z,I,{arrowhead:"none",arrowType:"",style:D,labelStyle:"",classes:f,arrowheadStyle:A,labelpos:"c",labelType:B,thickness:_})}else e.setNode(c,T)}t&&"root"!==t.id&&(d.l.trace("Setting node ",c," to be child of its parent ",t.id),e.setParent(c,t.id)),a.doc&&(d.l.trace("Adding nodes children "),N(e,a,a.doc,n,o,!s))},N=function(e,t,a,n,o,s){d.l.trace("items",a),a.forEach((function(a){switch(a.stmt){case r.b:case r.D:V(e,t,a,n,o,s);break;case r.S:V(e,t,a.state1,n,o,s),V(e,t,a.state2,n,o,s);var i={id:"edge"+E,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:D,labelStyle:"",label:d.e.sanitizeText(a.description,(0,d.c)()),arrowheadStyle:A,labelpos:"c",labelType:B,thickness:_,classes:b};e.setEdge(a.state1.id,a.state2.id,i,E),E++}}))},L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.c;if(e.doc)for(var a=0;a<e.doc.length;a++){var n=e.doc[a];"dir"===n.stmt&&(t=n.value)}return t},M=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(t,a,s,r){var u,h,b,f,y,v,w,x,m,T,k,S,D,A,B,_,E,R,N,M,Z,z;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.l.info("Drawing state diagram (v2)",a),C={},r.db.getDirection(),u=(0,d.c)(),h=u.securityLevel,b=u.state,f=b.nodeSpacing||50,y=b.rankSpacing||50,d.l.info(r.db.getRootDocV2()),r.db.extract(r.db.getRootDocV2()),d.l.info(r.db.getRootDocV2()),v=r.db.getStates(),w=new i.k({multigraph:!0,compound:!0}).setGraph({rankdir:L(r.db.getRootDocV2()),nodesep:f,ranksep:y,marginx:8,marginy:8}).setDefaultEdgeLabel((function(){return{}})),V(w,void 0,r.db.getRootDocV2(),v,r.db,!0),"sandbox"===h&&(x=(0,c.Ys)("#i"+a)),m="sandbox"===h?(0,c.Ys)(x.nodes()[0].contentDocument.body):(0,c.Ys)("body"),T=m.select('[id="'.concat(a,'"]')),k=m.select("#"+a+" g"),e.next=18,(0,l.r)(k,w,["barb"],g,a);case 18:8,d.u.insertTitle(T,"statediagramTitleText",b.titleTopMargin,r.db.getDiagramTitle()),S=T.node().getBBox(),D=S.width+16,A=S.height+16,T.attr("class",g),B=T.node().getBBox(),(0,d.i)(T,A,D,b.useMaxWidth),_="".concat(B.x-8," ").concat(B.y-8," ").concat(D," ").concat(A),d.l.debug("viewBox ".concat(_)),T.attr("viewBox",_),E=document.querySelectorAll('[id="'+a+'"] .edgeLabel .label'),R=(0,o.Z)(E);try{for(R.s();!(N=R.n()).done;)M=N.value,Z=M.getBBox(),(z=document.createElementNS("http://www.w3.org/2000/svg",p)).setAttribute("rx",0),z.setAttribute("ry",0),z.setAttribute("width",Z.width),z.setAttribute("height",Z.height),M.insertBefore(z,M.firstChild)}catch(t){R.e(t)}finally{R.f()}case 32:case"end":return e.stop()}}),e)})));return function(t,a,n,o){return e.apply(this,arguments)}}(),Z={setConf:function(e){for(var t=0,a=Object.keys(e);t<a.length;t++){e[a[t]]}},getClasses:function(e,t){return t.db.extract(t.db.getRootDocV2()),t.db.getClasses()},draw:M},z={parser:r.p,db:r.d,renderer:Z,styles:r.s,init:function(e){e.state||(e.state={}),e.state.arrowMarkerAbsolute=e.arrowMarkerAbsolute,r.d.clear()}}}}]);
//# sourceMappingURL=786.0692438f.chunk.js.map